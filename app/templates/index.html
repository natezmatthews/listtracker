{% macro newlinetobreak(iterable) -%}
    {% for i in iterable.split('\n') %}
        {{ i }} <br>
    {% endfor %}
{%- endmacro %}

<html>
    <head>
        <title>Track changes to your lists</title>
    </head>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        {{ form.risuto1() }}
        {{ form.risuto2() }}
        <br>
        {{ form.left() }} {{ form.leftcnt }}
        {{ form.union() }} {{ form.unioncnt }}
        {{ form.inters() }} {{ form.interscnt }}
        {{ form.right() }} {{ form.rightcnt }}
        <br>
        {{ form.delimiter.label }} <i>(Use \n for newline)</i>
        <br> 
        {{ form.delimiter() }}
    </form>
    <body>
        {% if output %}
            {{ newlinetobreak(delimitfunc(output)) }}
        {% endif %}
        {% if risutos %}
            {% for risuto in risutos %}
                <div><h1>{{ risuto.name }} </h1>
                    {{ newlinetobreak(risuto.text) }}
                    {{ newlinetobreak(delimitfunc(risuto.risutoset)) }}
                    <i>Created: </i>{{ risuto.created.strftime('%b %d %Y at %I:%M:%S %p') }}<br>
                    <i>Description: </i>{{ risuto.description }}<br>
                </div>
            {% endfor %}
        {% endif %}
    </body>
</html>